import menueNodeImport from"./modules/pop-up.html";class Menue{constructor(e=!1){this.main=e;const t=new DOMParser;this.popUpMenue=t.parseFromString(menueNodeImport,"text/html").body.firstChild,!0===e?document.body.appendChild(this.popUpMenue):document.querySelector(".edit-menues-container").appendChild(this.popUpMenue),this.addTaskDialogLabel=this.popUpMenue.querySelector("h2"),this.addTaskAddBtn=this.popUpMenue.querySelector(".add-task-add-btn"),this.addTaskMenueCont=this.popUpMenue,this.addTaskMenue=this.popUpMenue.querySelector(".add-task-menue"),this.addTaskInput=this.popUpMenue.querySelector("input"),this.addTaskMenueBtn=document.querySelector(".add-task-menue-btn"),!0===e&&this.addTaskMenueBtn.addEventListener("input",(()=>{this.addTaskMenueBtn.checked&&this.open()})),this.addTaskMenueBg=this.popUpMenue.querySelector(".add-task-menue-bg"),this.addTaskMenueBg.addEventListener("click",(()=>{this.close()}))}setupClose(){this.addTaskMenueBtn.addEventListener("click",(()=>{this.addTaskMenueBtn.checked||this.close()}),{once:!0})}open(){this.addTaskMenueBtn.checked=!0,this.setupClose(),this.addTaskMenueCont.classList.remove("hidden"),this.addTaskInput.focus(),this.addTaskMenue.classList.add("animate-open-menue"),this.addTaskMenueBg.classList.add("animate-fade-in"),setTimeout((()=>{this.addTaskMenue.classList.remove("animate-open-menue"),this.addTaskMenueBg.classList.remove("animate-fade-in")}),200)}close(){this.addTaskMenueBtn.checked=!1,this.addTaskMenue.classList.add("animate-close-menue"),this.addTaskMenueBg.classList.add("animate-fade-out"),this.addTaskInput.value="",setTimeout((()=>{this.addTaskMenueCont.classList.add("hidden"),this.addTaskMenue.classList.remove("animate-close-menue"),this.addTaskMenueBg.classList.remove("animate-fade-out")}),200)}}import toDoListNodeImport from"./modules/task-item.html";function ToDoItemUtil(e){this.title=e}function NodeUtin(e,t){this.dataEntryNumber=t,this.title=e;const s=new DOMParser;this.node=s.parseFromString(toDoListNodeImport,"text/html").body.firstChild,this.node.setAttribute("dataEntryNumber",t),this.checkBox=this.node.querySelector("input"),this.editBtn=this.node.querySelector("button"),this.label=this.node.querySelector("label"),this.label.innerText=e}class ToDoList{constructor(){this.toDoListArray=[],this.listContainer=document.querySelector(".list-container")}updateDisplay(e=!1,t=!1){document.querySelector(".edit-menues-container").innerHTML="",this.listContainer.innerHTML="";let s=0;this.toDoListArray.forEach((a=>{let i=new NodeUtin(a.title,s);console.log(this.toDoListArray.length),s!==this.toDoListArray.length-1||e||t||i.node.classList.add("animate-add-new-item"),s+=1;let n=new Menue;i.editBtn.addEventListener("click",(()=>{n.addTaskDialogLabel.innerText="Edit item",n.addTaskInput.value=a.title,n.addTaskAddBtn.addEventListener("click",(()=>{this.toDoListArray[i.dataEntryNumber].title=n.addTaskInput.value,i.label.innerText=n.addTaskInput.value,n.close(),setTimeout((()=>{this.updateDisplay(e=!0)}),200)})),n.open()})),i.checkBox.addEventListener("input",(()=>{this.toDoListArray.splice(i.dataEntryNumber,1),i.node.classList.add("animate-remove-item"),setTimeout((()=>{this.updateDisplay(t=!0)}),550)})),this.listContainer.appendChild(i.node)}))}append(e,t){this.toDoListArray.push(new ToDoItemUtil(e)),this.updateDisplay()}}let toDoList=new ToDoList,menue=new Menue(!0);menue.addTaskAddBtn.addEventListener("click",(()=>{toDoList.append(menue.addTaskInput.value),menue.close()}));